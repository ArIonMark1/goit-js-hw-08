{"mappings":"gfAAA,IA6F2BA,EAAOC,EA7FlCC,EAAAC,EAAA,SAGMC,EAAmB,sBAEnBC,EAAiBC,SAASC,cAAc,kBAExCC,EAAgBF,SAASC,cAAc,qBACvCE,EAAkBH,SAASC,cAAc,0BACzCG,EAAiB,GAEvBL,EAAeM,iBAAiB,SAAS,EAAAT,EAAAU,WAQzC,SAAyBC,GACrBH,EAAeG,EAAMC,OAAOC,MAAQF,EAAMC,OAAOE,MAyCrD,SAAuBC,EAAKD,GACxB,IACI,IAAME,EAAaC,KAAKC,UAAUJ,GAClCK,aAAaC,QAAQL,EAAKC,E,CAE5B,MAAOK,GACLC,QAAQC,IAAI,iBAAkBF,EAAItB,Q,KA1CxBS,E,GAdiD,MACnEL,EAAeM,iBAAiB,UA6BhC,SAAsBE,GASlB,G,oBAtBJ,SAA6Ba,GAEzB,IAAKlB,EAAcQ,MAEf,OADAW,MAAM,wBACC,EAEJ,IAAKlB,EAAgBO,MAExB,OADAW,MAAM,6BACC,EAEX,OAAO,C,CAUUC,GAGb,OAEJJ,QAAQC,IAAI,wCAAuE,CAAEzB,MAAOQ,EAAcQ,MAAOf,QAASQ,EAAgBO,QAE5GK,aAAjBQ,QACbhB,EAAMiB,cAAcC,O,IA0BxB,SAAyBC,GAGA,IAAhBA,EACG,OAGwBxB,EAAlBQ,MAAQgB,EAAKhC,MAC3BS,EAAgBO,MAAQgB,EAAK/B,O,CA3EjCgC,CAwDA,SAAyBhB,GACrB,IACI,IAAMiB,EAAkBb,aAAac,QAAQlB,GAG7C,OAFmBE,KAAKiB,MAAMF,E,CAGhC,MAAOX,GACLC,QAAQC,IAAI,iBAAkBF,EAAItB,Q,EA/D1BoC,CAAgBjC,IA8EEH,EA5EDQ,EAgF7BC,GAJuBV,EA5ETQ,GAgFOO,MAAQf,EAAMgB,MACnCN,EAAeT,EAAQc,MAAQd,EAAQe,K","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from \"lodash\";\n\n// Ключ для сховища буде рядок \"feedback-form-state\"\nconst KEY_DATA_STORAGE = \"feedback-form-state\";\n\nconst getFormElement = document.querySelector(\".feedback-form\");\n\nconst getEmailInput = document.querySelector(\"input[name=email]\");\nconst getMessageInput = document.querySelector(\"textarea[name=message]\");\nconst objectDataForm = {};\n\ngetFormElement.addEventListener('input', throttle(fillDataStorage, 500));\ngetFormElement.addEventListener('submit', onSubmitForm);\n\n//     \ninputDataToForm(loadFromStorage(KEY_DATA_STORAGE))\n\nIsFornInputFilled(getEmailInput, getMessageInput)\n// =============================================================\nfunction fillDataStorage(event) {\n    objectDataForm[event.target.name] = event.target.value;\n    /*\n        Відстежую на формі подію input, \n        і щоразу записую у локальне сховище об'єкт з полями email і message, \n        у яких зберігаю поточні значення полів форми */\n    saveInStorage(KEY_DATA_STORAGE, objectDataForm);\n};\n\nfunction checkValidityFields(evt) { \n\n    if (!getEmailInput.value) {\n        alert('Empty email field!!');\n        return false;\n\n    } else if (!getMessageInput.value) { \n        alert('Need write some message!');\n        return false;\n    }\n    return true;\n}\n// =============================================================\nfunction onSubmitForm(event) { \n    /*\n        Під час сабміту форми очищую сховище і поля форми, \n        а також вивожу у консоль об'єкт з полями email, \n        message та їхніми поточними значеннями. */\n    event.preventDefault();\n\n    const checkRes = checkValidityFields(event);\n\n    if (!checkRes) { \n        return;\n    }\n    console.log('Вивід даних із полів вводу у консоль:', { email: getEmailInput.value, message: getMessageInput.value });\n\n    localStorage.clear();\n    event.currentTarget.reset();\n\n};\n// =======================================================\n// ======== Basicfunctions to work with the storage ======\nfunction saveInStorage(key, value) {\n    try {\n        const dataToSave = JSON.stringify(value);\n        localStorage.setItem(key, dataToSave);\n\n    } catch (err) { \n        console.log(\"Some problem: \", err.message)\n    }\n};\n\nfunction loadFromStorage(key) { \n    try {\n        const dataFromStorage = localStorage.getItem(key);\n        const parsedData = JSON.parse(dataFromStorage);\n\n        return parsedData\n    } catch (err) { \n        console.log(\"Some problem: \", err.message)\n    }\n};\n\nfunction inputDataToForm(data) {\n    // Під час завантаження сторінки перевіряю стан сховища, \n    // якщо там є збережені дані\n    if (!data) { \n            return;\n    }\n    // заповнюю поля форми даними зі сховища.\n    getEmailInput.value = data.email;\n    getMessageInput.value = data.message;\n}\n\nfunction IsFornInputFilled(email, message) { \n    //  при перезагрузкі сторінки об'єкт очищується, і при повторному заповнені полів об'єкт перезаписується\n    // щоб не втрачати дані з полів, при вигрузкі даних із сховища після перезагрузки сторінки передаю їх як\n    // початкові значення в об'єкт\n    objectDataForm[email.name] = email.value;\n    objectDataForm[message.name] = message.value;\n}"],"names":["email","message","$1WSnx","parcelRequire","$b00c40859be242c5$var$KEY_DATA_STORAGE","$b00c40859be242c5$var$getFormElement","document","querySelector","$b00c40859be242c5$var$getEmailInput","$b00c40859be242c5$var$getMessageInput","$b00c40859be242c5$var$objectDataForm","addEventListener","throttle","event","target","name","value","key","dataToSave","JSON","stringify","localStorage","setItem","err","console","log","evt","alert","$b00c40859be242c5$var$checkValidityFields","clear","currentTarget","reset","data","$b00c40859be242c5$var$inputDataToForm","dataFromStorage","getItem","parse","$b00c40859be242c5$var$loadFromStorage"],"version":3,"file":"03-feedback.6cc36902.js.map"}