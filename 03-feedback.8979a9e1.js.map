{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAGuB,MAEjBC,EAAiBC,SAASC,cAAc,kBAExCC,EAAgBF,SAASC,cAAc,qBACvCE,EAAkBH,SAASC,cAAc,0BACzCG,EAAiB,GAqEvB,IAA2BC,EAAOC,EAvBlC,SAASC,EAAgBC,GACrB,IACI,MAAMC,EAAkBC,aAAaC,QAAQH,GAG7C,OAFmBI,KAAKC,MAAMJ,E,CAGhC,MAAOK,GACLC,QAAQC,IAAI,iBAAkBF,EAAIR,Q,EAnD1CP,EAAekB,iBAAiB,SAAS,EAAApB,EAAAqB,WAUzC,SAAyBC,GACrBf,EAAee,EAAMC,OAAOC,MAAQF,EAAMC,OAAOE,MAuBrD,SAAuBd,EAAKc,GACxB,IACI,MAAMC,EAAaX,KAAKY,UAAUF,GAClCZ,aAAae,QAAQjB,EAAKe,E,CAE5B,MAAOT,GACLC,QAAQC,IAAI,iBAAkBF,EAAIR,Q,GAhDjB,sBAyBPF,E,GAjBiD,MACnEL,EAAekB,iBAAiB,UAmBhC,SAAsBE,G,mBAMlBJ,QAAQC,IAAI,CAAEX,MAAOH,EAAcoB,MAAOhB,QAASH,EAAgBmB,QAEnEZ,aAAagB,QACbP,EAAMQ,cAAcC,O,IAzBxBb,QAAQC,IAAI,sBAAuBT,EAZV,wBA+DzB,SAAyBsB,GAGA,IAAhBA,EACG,OAGwBd,QAAxBC,IAAI,uBAAwBa,GACpC3B,EAAcoB,MAAQO,EAAKxB,MAAQwB,EAAKxB,MAAO,GAC/CF,EAAgBmB,MAAQO,EAAKvB,QAAUuB,EAAKvB,QAAS,E,CA1DzDwB,CAAgBvB,EAdS,wBA2ESD,EA3DDH,EA+D7BC,GAJuBC,EA3DTH,GA+DOmB,MAAQhB,EAAMiB,MACnClB,EAAeE,EAAQe,MAAQf,EAAQgB","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from \"lodash\";\n\n// Ключ для сховища буде рядок \"feedback-form-state\"\nconst KEY_DATA_STORAGE = \"feedback-form-state\";\n\nconst getFormElement = document.querySelector(\".feedback-form\");\n\nconst getEmailInput = document.querySelector(\"input[name=email]\");\nconst getMessageInput = document.querySelector(\"textarea[name=message]\");\nconst objectDataForm = {};\n\ngetFormElement.addEventListener('input', throttle(fillDataStorage, 500));\ngetFormElement.addEventListener('submit', onSubmitForm);\n\n\nconsole.log('Data from Storage: ', loadFromStorage(KEY_DATA_STORAGE))\n//     \ninputDataToForm(loadFromStorage(KEY_DATA_STORAGE))\n\nIsFornInputFilled(getEmailInput, getMessageInput)\n// =============================================================\nfunction fillDataStorage(event) {\n    objectDataForm[event.target.name] = event.target.value;\n    \n    /*\n        Відстежую на формі подію input, \n        і щоразу записую у локальне сховище об'єкт з полями email і message, \n        у яких зберігаю поточні значення полів форми */\n    saveInStorage(KEY_DATA_STORAGE, objectDataForm);\n};\n// =============================================================\nfunction onSubmitForm(event) { \n    /*\n        Під час сабміту форми очищую сховище і поля форми, \n        а також вивожу у консоль об'єкт з полями email, \n        message та їхніми поточними значеннями. */\n    event.preventDefault();\n    console.log({ email: getEmailInput.value, message: getMessageInput.value });\n\n    localStorage.clear();\n    event.currentTarget.reset();\n\n};\n// =======================================================\n// ======== Basicfunctions to work with the storage ======\nfunction saveInStorage(key, value) {\n    try {\n        const dataToSave = JSON.stringify(value);\n        localStorage.setItem(key, dataToSave);\n\n    } catch (err) { \n        console.log(\"Some problem: \", err.message)\n    }\n};\n\nfunction loadFromStorage(key) { \n    try {\n        const dataFromStorage = localStorage.getItem(key);\n        const parsedData = JSON.parse(dataFromStorage);\n\n        return parsedData\n    } catch (err) { \n        console.log(\"Some problem: \", err.message)\n    }\n};\n\nfunction inputDataToForm(data) {\n    // Під час завантаження сторінки перевіряю стан сховища, \n    // якщо там є збережені дані\n    if (!data) { \n            return;\n    }\n    // заповнюю поля форми даними зі сховища.\n    console.log('Data from function: ', data);\n    getEmailInput.value = data.email ? data.email: '';\n    getMessageInput.value = data.message ? data.message: '';\n}\n\nfunction IsFornInputFilled(email, message) { \n    //  при перезагрузкі сторінки об'єкт очищується, і при повторному заповнені полів об'єкт перезаписується\n    // щоб не втрачати дані з полів, при вигрузкі даних із сховища після перезагрузки сторінки передаю їх як\n    // початкові значення в об'єкт\n    objectDataForm[email.name] = email.value;\n    objectDataForm[message.name] = message.value;\n}"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$getFormElement","document","querySelector","$945622fd0f572e60$var$getEmailInput","$945622fd0f572e60$var$getMessageInput","$945622fd0f572e60$var$objectDataForm","email","message","$945622fd0f572e60$var$loadFromStorage","key","dataFromStorage","localStorage","getItem","JSON","parse","err","console","log","addEventListener","throttle","event","target","name","value","dataToSave","stringify","setItem","clear","currentTarget","reset","data","$945622fd0f572e60$var$inputDataToForm"],"version":3,"file":"03-feedback.8979a9e1.js.map"}